!function(){app.controller("memberCheckDialog",["$scope","http",function(t,e){t.list=t.ngDialogData.list,t.act=t.ngDialogData.act,t.act.expend=[],t.act.hd_zd_names&&t.act.hd_zd_names.split(",").forEach(function(e,i){t.act.expend.push({name:e,title:t.act.hd_zd_pys.split(",")[i]})}),e.get("api/msg.php",{hd_id:t.list.hd_id,u_id:t.list.u_id},function(e){0==e.error&&(t.list=angular.extend(t.list,e.data[0]))}),t.loading=!1,t.passCheck=function(i){if(!t.loading){t.loading=!0;var a={u_name:t.list.u_name,hd_id:t.list.hd_id,u_id:t.list.u_id,check:i||t.list.is_check,msg:t.list.msg};e.post("api/hd_check.php",a,function(e){t.loading=!1,0==e.error?t.closeThisDialog(e):(t.error=!0,t.errorMsg=e.msg)})}}}]),app.controller("searchMember",["$scope","$rootScope","Table","$stateParams","ngDialog","http",function(t,e,i,a,n,o){e.patchName="searchMember",t.table=i.init({link:"api/huiyuan.php"}),t.table.getList(),o.get("api/hd_list.php?page=1&pagesize=99",{},function(e){0==e.error&&(t.huodong=e.data.list)}),a&&a.user&&(t.table.query.user=a.user,t.table.getList()),$(".search-input input").on("keydown",function(e){13==e.keyCode&&t.table.getList()}),t.check=function(e){var i=t.huodong.filter(function(t){return e.hd_id==t.hd_id})[0];t.dialog=n.open({template:"template/checkDialog.html",data:{list:e,act:i},controller:"memberCheckDialog"}).closePromise.then(function(e){e.value&&0==e.value.error&&t.table.getList()})}}])}();